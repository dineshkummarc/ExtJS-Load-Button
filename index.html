<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Load Button Example</title>

    <!-- ExtJS CSS -->
    <link rel="stylesheet" type="text/css" href="http://extjs.cachefly.net/ext-2.2/resources/css/ext-all.css"/>
   
    <!-- Load Button CSS -->
    <style type="text/css">
        .world_delete{
            background-image:url(world_delete.png) !important;            
        }
        .ajax-loader{
            background-image:url(ajax-loader.gif) !important;
        }
    </style>

    <!-- ExtJS lib -->
    <script type="text/javascript" src="http://extjs.cachefly.net/ext-2.2/adapter/ext/ext-base.js"></script>
    <script type="text/javascript" src="http://extjs.cachefly.net/ext-2.2/ext-all.js"></script>

    <script type="text/javascript" src="Ext.ux.LoadButton.js"></script>
    <script type="text/javascript">
    Ext.BLANK_IMAGE_URL = 'http://extjs.cachefly.net/ext-3.0.0/resources/images/default/s.gif';
    Ext.onReady(function(){

        //loadbutton handler
        var deleteWorld = function(){
            win.body.update('Deleting world...');
            //my async stuff
            (function(){
                win.body.update('World deleted, good bye.');
                this.resetIcon();
            }).defer(2000, this); //give this (the button) as scope for "this.resetIcon()"
        };

        
        var win = new Ext.Window({
            title : 'Load Button test',
            width : 400,
            height: 300,
            tbar:[
                {
                    xtype:'tbloadbutton',
                    cls: 'x-btn-text-icon',
                    icon : 'world_delete.png',
                    text : 'using icon/loadicon',
                    loadicon : 'ajax-loader.gif',
                    handler : deleteWorld
                },
                {
                    xtype:'tbloadbutton',
                    cls: 'x-btn-text-icon',
                    text: 'using iconCls/loadiconCls',
                    iconCls : 'world_delete',
                    loadiconCls : 'ajax-loader',
                    handler : deleteWorld
                }
            ],
            html : 'Click the "Delete World" button.'
                    
        });
        win.show();

    });
    </script>
</head>
<body>
<p>
<ul>
<li><a href="http://github.com/floriancargoet/ExtJS-Load-Button/tree/master">Source code on GitHub.com</a></li>
<li><a href="http://fcargoet.evolix.net/webdev/extjs/extjs-load-button/">Post on my blog</a></li>
</ul>
</p>
</body>
</html>
